{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\vighn\\\\OneDrive\\\\Desktop\\\\E-commerce\\\\frontend\\\\src\\\\Context\\\\CartContext.jsx\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$();\nimport React, { createContext, useState, useContext } from \"react\";\n\n// 1. Create the Context\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst CartContext = /*#__PURE__*/createContext();\n\n// Custom hook to use the cart context easily\nexport const useCart = () => {\n  _s();\n  return useContext(CartContext);\n};\n\n// 2. Create the Provider Component\n_s(useCart, \"gDsCjeeItUuvgOWf1v4qoK9RF6k=\");\nexport const CartProvider = ({\n  children\n}) => {\n  _s2();\n  const [cartItems, setCartItems] = useState([]);\n\n  // Function to add a new item or update an existing one\n  const addToCart = (product, quantity, size) => {\n    // Unique identifier for a product (ID + size)\n    const itemId = `${product.id}-${size}`;\n    setCartItems(prevItems => {\n      // Check if the item already exists in the cart\n      const existingItem = prevItems.find(item => item.itemId === itemId);\n      if (existingItem) {\n        // If it exists, update the quantity\n        return prevItems.map(item => item.itemId === itemId ? {\n          ...item,\n          quantity: item.quantity + quantity\n        } : item);\n      } else {\n        // If it's a new item, add it to the cart\n        const newItem = {\n          ...product,\n          itemId,\n          // Add unique ID for cart operations\n          quantity,\n          size\n        };\n        return [...prevItems, newItem];\n      }\n    });\n  };\n\n  // Function to remove an item from the cart\n  const removeFromCart = itemId => {\n    setCartItems(prevItems => prevItems.filter(item => item.itemId !== itemId));\n  };\n\n  // Function to update the quantity of an item\n  const updateQuantity = (itemId, newQuantity) => {\n    setCartItems(prevItems => prevItems.map(item => item.itemId === itemId ? {\n      ...item,\n      quantity: newQuantity\n    } : item).filter(item => item.quantity > 0) // Remove if quantity drops to 0 or less\n    );\n  };\n\n  // The value that will be supplied to any consumer of the context\n  const contextValue = {\n    cartItems,\n    addToCart,\n    removeFromCart,\n    updateQuantity\n  };\n  return /*#__PURE__*/_jsxDEV(CartContext.Provider, {\n    value: contextValue,\n    children: children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 67,\n    columnNumber: 5\n  }, this);\n};\n\n// **IMPORTANT: Wrap your <App/> component with <CartProvider> in index.js or App.js**\n// Example in App.js:\n/*\r\n  <CartProvider>\r\n    <App />\r\n  </CartProvider>\r\n*/\n_s2(CartProvider, \"jeyeRm/hZ/3zvXF4PAYTLSHDNRs=\");\n_c = CartProvider;\nvar _c;\n$RefreshReg$(_c, \"CartProvider\");","map":{"version":3,"names":["React","createContext","useState","useContext","jsxDEV","_jsxDEV","CartContext","useCart","_s","CartProvider","children","_s2","cartItems","setCartItems","addToCart","product","quantity","size","itemId","id","prevItems","existingItem","find","item","map","newItem","removeFromCart","filter","updateQuantity","newQuantity","contextValue","Provider","value","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["C:/Users/vighn/OneDrive/Desktop/E-commerce/frontend/src/Context/CartContext.jsx"],"sourcesContent":["import React, { createContext, useState, useContext } from \"react\";\r\n\r\n// 1. Create the Context\r\nconst CartContext = createContext();\r\n\r\n// Custom hook to use the cart context easily\r\nexport const useCart = () => useContext(CartContext);\r\n\r\n// 2. Create the Provider Component\r\nexport const CartProvider = ({ children }) => {\r\n  const [cartItems, setCartItems] = useState([]);\r\n\r\n  // Function to add a new item or update an existing one\r\n  const addToCart = (product, quantity, size) => {\r\n    // Unique identifier for a product (ID + size)\r\n    const itemId = `${product.id}-${size}`;\r\n\r\n    setCartItems((prevItems) => {\r\n      // Check if the item already exists in the cart\r\n      const existingItem = prevItems.find((item) => item.itemId === itemId);\r\n\r\n      if (existingItem) {\r\n        // If it exists, update the quantity\r\n        return prevItems.map((item) =>\r\n          item.itemId === itemId\r\n            ? { ...item, quantity: item.quantity + quantity }\r\n            : item\r\n        );\r\n      } else {\r\n        // If it's a new item, add it to the cart\r\n        const newItem = {\r\n          ...product,\r\n          itemId, // Add unique ID for cart operations\r\n          quantity,\r\n          size,\r\n        };\r\n        return [...prevItems, newItem];\r\n      }\r\n    });\r\n  };\r\n\r\n  // Function to remove an item from the cart\r\n  const removeFromCart = (itemId) => {\r\n    setCartItems((prevItems) =>\r\n      prevItems.filter((item) => item.itemId !== itemId)\r\n    );\r\n  };\r\n\r\n  // Function to update the quantity of an item\r\n  const updateQuantity = (itemId, newQuantity) => {\r\n    setCartItems((prevItems) =>\r\n      prevItems.map((item) =>\r\n        item.itemId === itemId ? { ...item, quantity: newQuantity } : item\r\n      ).filter(item => item.quantity > 0) // Remove if quantity drops to 0 or less\r\n    );\r\n  };\r\n\r\n  // The value that will be supplied to any consumer of the context\r\n  const contextValue = {\r\n    cartItems,\r\n    addToCart,\r\n    removeFromCart,\r\n    updateQuantity,\r\n  };\r\n\r\n  return (\r\n    <CartContext.Provider value={contextValue}>{children}</CartContext.Provider>\r\n  );\r\n};\r\n\r\n// **IMPORTANT: Wrap your <App/> component with <CartProvider> in index.js or App.js**\r\n// Example in App.js:\r\n/*\r\n  <CartProvider>\r\n    <App />\r\n  </CartProvider>\r\n*/"],"mappings":";;;AAAA,OAAOA,KAAK,IAAIC,aAAa,EAAEC,QAAQ,EAAEC,UAAU,QAAQ,OAAO;;AAElE;AAAA,SAAAC,MAAA,IAAAC,OAAA;AACA,MAAMC,WAAW,gBAAGL,aAAa,CAAC,CAAC;;AAEnC;AACA,OAAO,MAAMM,OAAO,GAAGA,CAAA;EAAAC,EAAA;EAAA,OAAML,UAAU,CAACG,WAAW,CAAC;AAAA;;AAEpD;AAAAE,EAAA,CAFaD,OAAO;AAGpB,OAAO,MAAME,YAAY,GAAGA,CAAC;EAAEC;AAAS,CAAC,KAAK;EAAAC,GAAA;EAC5C,MAAM,CAACC,SAAS,EAAEC,YAAY,CAAC,GAAGX,QAAQ,CAAC,EAAE,CAAC;;EAE9C;EACA,MAAMY,SAAS,GAAGA,CAACC,OAAO,EAAEC,QAAQ,EAAEC,IAAI,KAAK;IAC7C;IACA,MAAMC,MAAM,GAAG,GAAGH,OAAO,CAACI,EAAE,IAAIF,IAAI,EAAE;IAEtCJ,YAAY,CAAEO,SAAS,IAAK;MAC1B;MACA,MAAMC,YAAY,GAAGD,SAAS,CAACE,IAAI,CAAEC,IAAI,IAAKA,IAAI,CAACL,MAAM,KAAKA,MAAM,CAAC;MAErE,IAAIG,YAAY,EAAE;QAChB;QACA,OAAOD,SAAS,CAACI,GAAG,CAAED,IAAI,IACxBA,IAAI,CAACL,MAAM,KAAKA,MAAM,GAClB;UAAE,GAAGK,IAAI;UAAEP,QAAQ,EAAEO,IAAI,CAACP,QAAQ,GAAGA;QAAS,CAAC,GAC/CO,IACN,CAAC;MACH,CAAC,MAAM;QACL;QACA,MAAME,OAAO,GAAG;UACd,GAAGV,OAAO;UACVG,MAAM;UAAE;UACRF,QAAQ;UACRC;QACF,CAAC;QACD,OAAO,CAAC,GAAGG,SAAS,EAAEK,OAAO,CAAC;MAChC;IACF,CAAC,CAAC;EACJ,CAAC;;EAED;EACA,MAAMC,cAAc,GAAIR,MAAM,IAAK;IACjCL,YAAY,CAAEO,SAAS,IACrBA,SAAS,CAACO,MAAM,CAAEJ,IAAI,IAAKA,IAAI,CAACL,MAAM,KAAKA,MAAM,CACnD,CAAC;EACH,CAAC;;EAED;EACA,MAAMU,cAAc,GAAGA,CAACV,MAAM,EAAEW,WAAW,KAAK;IAC9ChB,YAAY,CAAEO,SAAS,IACrBA,SAAS,CAACI,GAAG,CAAED,IAAI,IACjBA,IAAI,CAACL,MAAM,KAAKA,MAAM,GAAG;MAAE,GAAGK,IAAI;MAAEP,QAAQ,EAAEa;IAAY,CAAC,GAAGN,IAChE,CAAC,CAACI,MAAM,CAACJ,IAAI,IAAIA,IAAI,CAACP,QAAQ,GAAG,CAAC,CAAC,CAAC;IACtC,CAAC;EACH,CAAC;;EAED;EACA,MAAMc,YAAY,GAAG;IACnBlB,SAAS;IACTE,SAAS;IACTY,cAAc;IACdE;EACF,CAAC;EAED,oBACEvB,OAAA,CAACC,WAAW,CAACyB,QAAQ;IAACC,KAAK,EAAEF,YAAa;IAAApB,QAAA,EAAEA;EAAQ;IAAAuB,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OAAuB,CAAC;AAEhF,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA;AAJAzB,GAAA,CA/DaF,YAAY;AAAA4B,EAAA,GAAZ5B,YAAY;AAAA,IAAA4B,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}